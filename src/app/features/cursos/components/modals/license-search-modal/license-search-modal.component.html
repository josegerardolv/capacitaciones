<app-modal [isOpen]="isOpen" [config]="modalConfig" (modalClose)="close()">
    <!-- Body -->
    <div class="flex flex-col items-center justify-center min-h-[300px]">
        <div class="w-full max-w-2xl flex flex-col gap-8">
            <div class="flex items-end gap-4 w-full">
                <!-- Input Licencia -->
                <div class="flex-1">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Ingresa el número de
                        licencia</label>
                    <input type="text" [(ngModel)]="searchLicense" (keyup.enter)="searchPerson()"
                        placeholder="Ej. H67PPP000040052"
                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-institucional-primario focus:border-institucional-primario text-lg uppercase"
                        [disabled]="isSearching">
                </div>

                <!-- Botón Buscar -->
                <div class="mb-[2px]"> <!-- Ajuste visual para alinear con input -->
                    <app-institutional-button (buttonClick)="searchPerson()" [config]="{
                        variant: 'primary',
                        icon: 'search',
                        loading: isSearching
                    }">
                        Buscar
                    </app-institutional-button>
                </div>
            </div>

            <!-- Mensaje de ayuda o estado -->
            <div class="text-center text-gray-500 text-sm">
                <p *ngIf="!isSearching">Presiona Enter o haz clic en Buscar</p>
                <p *ngIf="isSearching"
                    class="text-institucional-primario font-semibold flex items-center justify-center gap-2">
                    <span class="animate-spin rounded-full h-4 w-4 border-b-2 border-current"></span> Buscando
                    en el padrón...
                </p>
            </div>
        </div>
    </div>
</app-modal>

<!-- Nested Alert Modal for "Not Found" - Outside app-modal or it handles z-index? 
     AlertModal usually has high z-index, so it should be fine. -->
<app-alert-modal [isOpen]="isAlertOpen" [config]="alertConfig" (actionClick)="isAlertOpen = false"
    (modalClose)="isAlertOpen = false">
</app-alert-modal>