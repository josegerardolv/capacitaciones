<div class="p-6 bg-gray-50 min-h-screen">

    <div class="bg-white rounded-3xl shadow-sm border border-gray-100 p-8 min-h-[600px] relative">

        <!-- Header -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold text-gray-800">Lista de Cursos</h2>
        </div>

        <!-- Toolbar -->
        <div class="flex justify-end mb-6">
            <button (click)="openForm()"
                class="bg-[#8B1538] hover:bg-[#6B1028] text-white px-6 py-2.5 rounded-lg flex items-center font-medium transition-colors shadow-sm">
                <app-universal-icon name="plus-lg" type="bootstrap" [size]="18" class="mr-2"></app-universal-icon>
                Nuevo Curso
            </button>
        </div>

        <!-- Institutional Table -->
        <app-institutional-table [data]="courses" [columns]="tableColumns" [config]="tableConfig">
        </app-institutional-table>

        <!-- Pagination -->
        <app-table-pagination [config]="paginationConfig" (pageChange)="onPageChange($event)">
        </app-table-pagination>

    </div>
</div>

<app-course-form [isOpen]="showForm" (close)="closeForm()" (saved)="onFormSaved()">
</app-course-form>

<app-course-edit-form [isOpen]="showEditForm" [course]="selectedCourseToEdit" (close)="closeEditForm()"
    (saved)="onEditSaved()">
</app-course-edit-form>

<!-- Template para Acciones -->
<ng-template #actionsTemplate let-item>
    <div class="flex items-center justify-center space-x-3">
        <button
            class="w-8 h-8 rounded-full bg-blue-100 text-blue-800 hover:bg-blue-200 flex items-center justify-center transition-colors"
            [appTooltip]="'Ver detalles'" tooltipPosition="top" (click)="viewGroups(item)">
            <span class="material-symbols-outlined text-sm">visibility</span>
        </button>
        <button
            class="w-8 h-8 rounded-full bg-amber-100 text-amber-800 hover:bg-amber-200 flex items-center justify-center transition-colors"
            [appTooltip]="'Editar'" tooltipPosition="top" (click)="openEditForm(item)">
            <span class="material-symbols-outlined text-sm">edit</span>
        </button>
        <button
            class="w-8 h-8 rounded-full bg-red-100 text-red-800 hover:bg-red-200 flex items-center justify-center transition-colors"
            [appTooltip]="'Eliminar'" tooltipPosition="top" (click)="deleteCourse(item.id)">
            <span class="material-symbols-outlined text-sm">delete</span>
        </button>
    </div>
</ng-template>

<!-- Modales GenÃ©ricos -->
<app-confirmation-modal [isOpen]="isConfirmOpen" [config]="confirmConfig" (confirm)="onConfirmYes()"
    (cancel)="isConfirmOpen = false" (modalClose)="isConfirmOpen = false">
</app-confirmation-modal>

<app-alert-modal [isOpen]="isAlertOpen" [config]="alertConfig" (actionClick)="isAlertOpen = false"
    (modalClose)="isAlertOpen = false">
</app-alert-modal>