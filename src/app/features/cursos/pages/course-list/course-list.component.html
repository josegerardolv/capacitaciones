<div class="p-6 bg-gray-50 min-h-screen">

    <div class="bg-white rounded-3xl shadow-sm border border-gray-100 p-8 min-h-[600px] relative">

        <!-- Header -->
        <div class="mb-8">
            <h2 class="text-2xl font-bold text-gray-800">Lista de Cursos</h2>
        </div>

        <!-- Toolbar -->
        <div class="flex justify-end mb-6">
            <button (click)="openForm()"
                class="bg-[#8B1538] hover:bg-[#6B1028] text-white px-6 py-2.5 rounded-lg flex items-center font-medium transition-colors shadow-sm">
                <app-universal-icon name="plus-lg" type="bootstrap" [size]="18" class="mr-2"></app-universal-icon>
                Nuevo Curso
            </button>
        </div>

        <!-- Institutional Table -->
        <app-institutional-table [data]="courses" [columns]="tableColumns" [config]="tableConfig">
        </app-institutional-table>

        <!-- Pagination -->
        <app-table-pagination [config]="paginationConfig" (pageChange)="onPageChange($event)">
        </app-table-pagination>

    </div>
</div>

<app-course-form [isOpen]="showForm" (close)="closeForm()" (saved)="onFormSaved()">
</app-course-form>

<app-course-edit-form [isOpen]="showEditForm" [course]="selectedCourseToEdit" (close)="closeEditForm()"
    (saved)="onEditSaved()">
</app-course-edit-form>

<!-- Template para Acciones -->
<ng-template #actionsTemplate let-item>
    <div class="flex items-center justify-center space-x-3">
        <app-institutional-button [config]="{
                variant: 'info',
                icon: 'list_alt',
                iconPosition: 'only',
                customClass: '!rounded-full !w-8 !h-8 !p-0 min-w-[unset]'
            }" (buttonClick)="viewGroups(item)" [appTooltip]="'Ver detalles'" tooltipPosition="top">
        </app-institutional-button>
        <app-institutional-button [config]="{
                variant: 'warning',
                icon: 'edit',
                iconPosition: 'only',
                customClass: '!rounded-full !w-8 !h-8 !p-0 min-w-[unset]'
            }" (buttonClick)="openEditForm(item)" [appTooltip]="'Editar'" tooltipPosition="top">
        </app-institutional-button>
        <app-institutional-button [config]="{
                variant: 'danger',
                icon: 'delete',
                iconPosition: 'only',
                customClass: '!rounded-full !w-8 !h-8 !p-0 min-w-[unset]'
            }" (buttonClick)="deleteCourse(item.id)" [appTooltip]="'Eliminar'" tooltipPosition="top">
        </app-institutional-button>
    </div>
</ng-template>

<!-- Modales GenÃ©ricos -->
<app-confirmation-modal [isOpen]="isConfirmOpen" [config]="confirmConfig" (confirm)="onConfirmYes()"
    (cancel)="isConfirmOpen = false" (modalClose)="isConfirmOpen = false">
</app-confirmation-modal>

<app-alert-modal [isOpen]="isAlertOpen" [config]="alertConfig" (actionClick)="isAlertOpen = false"
    (modalClose)="isAlertOpen = false">
</app-alert-modal>